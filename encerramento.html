<!DOCTYPE html>
<html class="" lang="pt-BR"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Ibirahill - Encerramento</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Epilogue:wght@400;500;600;700;800;900&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
<script>
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          colors: {
            "primary": "#243133",
            "background-light": "#cdc4ad",
            "background-dark": "#171a1b",
          },
          fontFamily: {
            "display": ["Epilogue", "sans-serif"]
          },
          borderRadius: {
            "DEFAULT": "0.25rem",
            "lg": "0.5rem",
            "xl": "0.75rem",
            "full": "9999px"
          },
        },
      },
    }
  </script>
<style>
    .material-symbols-outlined {
      font-variation-settings:
        'FILL' 0,
        'wght' 400,
        'GRAD' 0,
        'opsz' 24
    }
    .icon-filled {
      font-variation-settings:
        'FILL' 1,
        'wght' 400,
        'GRAD' 0,
        'opsz' 24
    }
    .disabled {
        opacity: 0.5;
        pointer-events: none;
    }
  </style>
</head>
<body class="bg-background-light font-display">
<div class="relative flex min-h-screen w-full flex-col">
<header class="sticky top-0 z-10 flex w-full items-center justify-center border-b border-solid border-primary/20 bg-background-light px-6 py-4">
<img src="/public/logogreen.png" class="h-12" alt="Ibirahill logo">
</header>
<main class="flex flex-1 flex-col overflow-x-auto px-6 pb-24 pt-8">
<div class="flex w-full min-w-max items-start justify-between gap-2 pb-8">
<div class="flex flex-col items-center gap-2 text-primary">
<div class="flex h-10 w-10 items-center justify-center rounded-full bg-primary text-background-light">
<span class="material-symbols-outlined icon-filled text-2xl">check</span>
</div>
<span class="text-xs font-bold">Perfil</span>
</div>
<div class="h-px w-full flex-1 self-center bg-primary" style="margin-top: -1.25rem;"></div>
<div class="flex flex-col items-center gap-2 text-primary">
<div class="flex h-10 w-10 items-center justify-center rounded-full bg-primary text-background-light">
<span class="material-symbols-outlined icon-filled text-2xl">check</span>
</div>
<span class="text-xs font-bold">Expectativas</span>
</div>
<div class="h-px w-full flex-1 self-center bg-primary" style="margin-top: -1.25rem;"></div>
<div class="flex flex-col items-center gap-2 text-primary">
<div class="flex h-10 w-10 items-center justify-center rounded-full bg-primary text-background-light">
<span class="material-symbols-outlined icon-filled text-2xl">check</span>
</div>
<span class="text-xs font-bold">Experiência</span>
</div>
<div class="h-px w-full flex-1 self-center bg-primary" style="margin-top: -1.25rem;"></div>
<div class="flex flex-col items-center gap-2 text-primary">
<div class="flex h-10 w-10 items-center justify-center rounded-full bg-primary text-background-light">
<span class="material-symbols-outlined icon-filled text-2xl">flag</span>
</div>
<span class="text-xs font-bold">Encerramento</span>
</div>
</div>
<div class="mb-8 text-center">
<p class="text-4xl font-black leading-tight tracking-[-0.033em] text-primary">Agradecemos sua participação!</p>
</div>
<div class="flex flex-col gap-10 text-center">
<p class="text-lg text-primary">Sua opinião é muito importante para nós e nos ajudará a aprimorar nossos serviços e oferecer uma experiência cada vez melhor a todos os nossos hóspedes.</p>
<p class="text-lg text-primary">Esperamos recebê-lo novamente em breve!</p>
</div>
<div id="subscribe-container" class="mt-10 text-center">
    <h2 class="text-lg font-bold leading-tight tracking-[-0.015em] text-primary">Fique por dentro das novidades do Ibirahill!</h2>
    <p class="text-base text-primary">Deixe seu e-mail para receber nossas promoções e novidades em primeira mão.</p>
    <form id="subscribe-form" class="mt-4 flex w-full max-w-md mx-auto flex-col gap-3 sm:flex-row">
        <input id="email" type="email" placeholder="Seu melhor e-mail" class="w-full appearance-none rounded-lg border-2 border-primary/20 bg-background-light px-4 py-3 text-base font-medium text-primary placeholder-primary/50 focus:border-primary focus:outline-none focus:ring-0">
        <button id="subscribe-button" type="submit" class="flex w-full sm:w-auto cursor-pointer items-center justify-center gap-2 overflow-hidden rounded-lg bg-primary px-5 py-3 text-base font-bold text-background-light">
            <span>Enviar</span>
        </button>
    </form>
</div>
</main>
</div>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbzPFk-Hl1ib-AGficCBL8zlcLN_YkYoxQtoYe4kQatFz_CpgQ_b8LTBpqWpQ-vpIMLL/exec';
        const subscribeContainer = document.getElementById('subscribe-container');
        const subscribeForm = document.getElementById('subscribe-form');
        const emailInput = document.getElementById('email');
        const subscribeButton = document.getElementById('subscribe-button');

        const finishSurvey = (message) => {
            localStorage.clear();
            subscribeContainer.innerHTML = `<p class="mt-4 text-lg text-green-700 font-bold">${message}</p>`;
        };

        subscribeForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            if (emailInput.value.trim() === '' || !emailInput.checkValidity()) {
                alert('Por favor, insira um e-mail válido.');
                return;
            }

            subscribeButton.classList.add('disabled');
            subscribeButton.textContent = 'Enviando...';

            const surveyId = localStorage.getItem('surveyId');
            if (!surveyId) {
                finishSurvey('Obrigado por participar!');
                return;
            }

            try {
                await fetch(SCRIPT_URL, {
                    method: 'POST',
                    mode: 'no-cors',
                    cache: 'no-cache',
                    headers: { 'Content-Type': 'text/plain;charset=utf-8' },
                    redirect: 'follow',
                    body: JSON.stringify({ action: 'updateEmail', surveyId: surveyId, email: emailInput.value })
                });
                finishSurvey('E-mail enviado com sucesso. Obrigado!');
            } catch (error) {
                console.error('Error updating email:', error);
                alert('Houve um erro ao enviar seu e-mail. Por favor, tente novamente.');
                subscribeButton.classList.remove('disabled');
                subscribeButton.textContent = 'Enviar';
            }
        });
    });
</script>
</body></html>